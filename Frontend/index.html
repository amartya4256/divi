<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D.I.V.I.</title>
    <meta name="D.I.V.I" value="notranslate">
    <link rel="stylesheet" href="styles/animate.min.css">
    <link rel="stylesheet" href="styles/w3.css">
    <link rel="stylesheet" href="styles/fa.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles/add-device-style.css">
    <link rel="stylesheet" href="styles/speak.css">
    <link rel="stylesheet" href="styles/modal.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script language="javascript">


        var check = new XMLHttpRequest();
        check.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200){
            if (this.responseText != "Yes") {
                window.location = "login.html";
                }
            }
        };
        check.open("GET", "http://127.0.0.1:5000/logincheck");
        check.send();
        console.log("HI");

    </script>

</head>
<body>



    <div id="all">
        <img id = "logo" src = "divi_logo.png" class = "animate spin-logo">
        <div id="myNav" class="bounceIn overlay">
            <!-- Button to close the overlay navigation -->



            <!-- Overlay content -->
            <div class="overlay-content">
                <p style = "color: #818181">Turn ON "Time To Talk"</p>
                <label class="switch">

                <input type="checkbox" id = "state" onchange="doalert(this)">
                <span class="slider round"></span>
                </label>
                <a href="#" onclick="navigator(); rota();">Home</a>
                <a href="#" onclick="getModal()" id = "myDevices">My Devices</a>
                <a href="#">About</a>
                <a href='' onclick = "logout()">Logout</a>
            </div>

        </div>
            <!-- Use any element to open/show the overlay navigation menu -->
        <span style = "cursor:pointer" onclick = "navigator()" class = "hamburger">
            <div class="rotate">
                <font size="+3">&#9776;</font>
                </div>
        </span>
        <div id="chatbox" align="middle">

            <div class="scrollbar" id="scroller" align = "middle">



            </div>

        </div>



       <div id="inp" align = "middle">
      <input type="text" align="middle" class="inputbar" placeholder="Type to experience intelligence..."  onkeypress="enterlistener(this)" >
      &nbsp;
      <img id = "mic" class="search" src = 'search.svg' onclick="speakdata()">
           <br/><br/>
       </div>

        <div class="modal centered" id = "modal">
            <div class = "modal-header">
                    <h4 class = "header-content">My Devices</h4>
                    <h4 class = "close-modal" onclick = "closeModal()">&#10006;</h4>
            </div>
            <div class = "modal-content">
                <div id = "devices">

                </div>
            </div>
        </div>


        <div class="modal fade centered" id="addDevice">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class = "add-dev-wrapper">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">My Devices</h5>
                  <div class = "flex-left">
                      <h4 class = "close-modal" onclick = "closeAddDeviceContainer()">&#10006;</h4>
                      </button>
                  </div>
              </div>
              <div class="modal-body">
                <form>
                    <table class="table table-responsive-md">
                        <tr>
                            <td>
                                <label for="dname">Device Name:</label>
                            </td>
                            <td>
                                <input type="text" id="dname" name="dname"><br>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="ipname">IP Address:</label>
                            </td>
                            <td>
                                <input type="text" id="ipname" name="ipname">
                            </td>
                        </tr>
                    </table>
                  </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeAddDeviceContainer()">Close</button>
                <button type="button" class="btn btn-primary" id = "addDeviceBtn" onclick="addDevice(document.querySelector('#dname').value, document.querySelector('#ipname').value)">Add device</button>
              </div>
              <div>
                  <p style="color : #914800" id = "message"></p>
              </div>
            </div>
          </div>
        </div>

</div>

    <script language="javascript" src = "script.js"></script>
    <script language="javascript" src = "scripts/addDevice.js"></script>
<script>
    $(".rotate").click(function () {
        $(this).toggleClass("down");
        console.log("done");
        });

    $(document).keydown(function(e){
        if(e.keyCode == 27 && $("#myNav")[0].style.height == "100%"){
            closeNav();
            $(".rotate").toggleClass("down");
        }
    });
</script>






</body>
</html>